# [Platinum IV] 행렬 곱셈 - 15933 

[문제 링크](https://www.acmicpc.net/problem/15933) 

### 성능 요약

메모리: 2312 KB, 시간: 32 ms

### 분류

자료 구조, 분리 집합, 오일러 경로, 그래프 이론

### 문제 설명

<p>n개의 행렬 M<sub>1</sub>, M<sub>2</sub>, ..., M<sub>n</sub> 이 주어진다. 행렬 M<sub>i</sub> (i = 1, 2, ..., n)은 R[i]개의 행, C[i]개의 열을 가지고 있다 (R[i] x C[i]).</p>

<p>정수 i(1 ≤ i ≤ n)에 대해서, 아래와 같이 정의되는 값 V<sub>i</sub>를 계산하려고 한다.</p>

<p>먼저, i개의 행렬 M<sub>1</sub>, M<sub>2</sub>, ..., M<sub>i</sub>을 모두 곱할 수 있는 순서가 있는지 알아본다. 참고로 행렬 곱셈 연산에서 RxC 행렬과 R'xC' 행렬을 곱하려면 C = R'이 성립하여야 하고 결과로 나오는 행렬은 RxC'이다. 만약 i개의 행렬을 (순서를 자유롭게 재배치 하더라도) 곱하는 것이 불가능하다면 V<sub>i</sub> = 0 으로 정의된다. 만약 가능하다면, 가능한 모든 방법 중 최종 결과가 되는 행렬의 크기가 가장 커지는 방법을 찾아 그 때 결과로 나온 행렬의 크기 (행의 수 x 열의 수)가 V<sub>i</sub> 값이 된다.</p>

<p>V<sub>1</sub>, V<sub>2</sub>, ..., V<sub>n</sub>를 구해보자.</p>

### 입력 

 <p>첫째 줄에는 자연수 n이 주어진다 (1 ≤ n ≤ 1,000). 다음 n줄에는 각 줄에 정수 두 개가 주어지는데, 각 행렬의 행의 수 R[i]와 열의 수 C[i]이다. 각 행렬의 행의 수와 열의 수는 1 이상 1,000 이하이다.</p>

### 출력 

 <p>총 n줄을 출력해야 하고, 각 줄에는 V<sub>1</sub> 부터 V<sub>n</sub>까지 V<sub>i</sub> 값을 출력한다.</p>

