# [Diamond II] Array and Easy Queries - 21602 

[문제 링크](https://www.acmicpc.net/problem/21602) 

### 성능 요약

메모리: 4040 KB, 시간: 0 ms

### 분류

자료 구조, 오프라인 쿼리, 세그먼트 트리, 제곱근 분할법

### 제출 일자

2025년 5월 26일 22:50:18

### 문제 설명

<p>원래 이 자리에는 킬러 문제가 들어갈 예정이었지만, 다른 문제의 난이도가 예상보다 높은 걸 보고 경악한 브루는 자신과 같은 낮은 실력의 참가자도 즐길 수 있는 쉬운 문제를 만들기로 결심했습니다.</p>

<p>길이 $N$의 수열 $A$가 주어집니다. 이 수열에 아래 네 가지 종류의 쿼리를 처리하는 프로그램을 만들어 봅시다.</p>

<ul>
	<li>$1$  $l$  $r$  $x$ : $l \le i \le r$인 모든 $A_i$를 $A_i$  AND  $x$로 바꿉니다.</li>
	<li>$2$  $l$  $r$  $x$ : $l \le i \le r$인 모든 $A_i$를 $A_i$  OR  $x$로 바꿉니다.</li>
	<li>$3$  $l$  $r$  $x$ : $l \le i \le r$인 모든 $A_i$를 $A_i$  XOR  $x$로 바꿉니다.</li>
	<li>$4$  $l$  $r$  $x$ : $l \le i \le r$이고 $A_i = x$인 $i$의 개수를 출력합니다.</li>
</ul>

<p>이때, AND, OR, XOR은 비트 연산을 의미합니다.</p>

### 입력 

 <p>첫 줄에는 수열의 길이 $N$과 쿼리의 수 $Q$가 주어집니다.</p>

<p>둘째 줄에는 수열의 초기 상태 $A_1, A_2, \cdots, A_N$이 주어집니다.</p>

<p>셋째 줄부터 $Q$개의 줄에는 각 쿼리에 대한 정보 $t$  $l$  $r$  $x$가 순서대로 주어집니다.</p>

### 출력 

 <p>모든 4번 쿼리에 대해, 그 답을 한 줄에 하나씩 출력합니다.</p>

