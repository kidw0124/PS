# [Diamond V] 트리와 쿼리 12 - 16912 

[문제 링크](https://www.acmicpc.net/problem/16912) 

### 성능 요약

메모리: 42344 KB, 시간: 108 ms

### 분류

자료 구조, 분리 집합, 분할 정복, 그래프 이론, 오프라인 동적 연결성 판정, 오프라인 쿼리

### 제출 일자

2025년 5월 7일 23:13:31

### 문제 설명

<p>N개의 정점으로 이루어진 루트없는 트리의 포레스트 F가 있다. 가장 처음에 F에 속하는 모든 트리는 정점 하나로만 이루어져 있는 트리이다. 아래와 같은 쿼리를 수행해보자.</p>

<ul>
	<li>1 A B: 정점 A와 B를 연결하는 간선을 추가한다. 쿼리가 주어지기 전에 A와 B사이에는 간선이 없다.</li>
	<li>2 A B: 정점 A와 B를 연결하는 간선을 제거한다. 쿼리가 주어지기 전에 A와 B사이에는 간선이 있다.</li>
	<li>3 A B: 정점 A에서 B로 가는 경로가 있는지 없는지 조사한다. 있는 경우에는 1, 없는 경우에는 0을 출력한다.</li>
</ul>

<p>모든 A와 B는 1 ≤ A, B ≤ N, A ≠ B를 만족하고, 모든 간선은 방향이 없다.</p>

### 입력 

 <p>첫째 줄에 정점의 개수 N(2 ≤ N ≤ 100,000)과 쿼리의 개수 M(1 ≤ M ≤ 100,000)이 주어진다. 둘째 줄부터 M개의 줄에 쿼리가 한 줄에 하나씩 주어진다. 쿼리의 수행 결과가 포레스트인 입력만 주어진다.</p>

### 출력 

 <p>3번 쿼리의 결과를 한 줄에 하나씩 출력한다.</p>

